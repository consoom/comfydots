#!/bin/sh

# A dmenu wrapper script for power management related functions.

case "$(readlink -f /sbin/init)" in
        *systemd*) ctl='systemctl' ;;
        *) ctl='loginctl' ;;
esac

case "$(printf "ğŸ–¥ Shutdown\nğŸ’¤ Sleep\nğŸ”ƒ Reboot\nğŸ¦” Hibernate\nğŸ“º Display off" | dmenu -i -p 'Action: ' -l 5 -c -bw 4)" in
        'ğŸ–¥ Shutdown') $ctl poweroff -i ;;
        'ğŸ’¤ Sleep') $ctl suspend -i ;;
        'ğŸ”ƒ Reboot') $ctl reboot -i ;;
        'ğŸ¦” Hibernate') $ctl hibernate -i ;;
        'ğŸ“º Display off') xset dpms force off ;;
        *) exit 1 ;;
esac
